SELECT * FROM myguests

INSERT INTO myguests ( firstname, lastname, email, reg_date)
VALUES ('Aileen', 'Alvarado', 'email@hotmail.com', NOW());



CREATE TABLE usuarios (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
nombre   VARCHAR(100) NOT NULL, 
password VARCHAR(100) NOT NULL
)



INSERT INTO usuarios (nombre, PASSWORD) VALUES ('Luis',  'fghdjsgj');

SELECT * FROM usuarios
SELECT * FROM usuarios WHERE id = 1 
SELECT * FROM usuarios WHERE nombre = 'eliseO'
SELECT * FROM usuarios WHERE nombre = 'Aileen Alvarado' AND PASSWORD = '123456'


UPDATE usuarios SET nombre='Aileen Alvarado' WHERE id = 1 
UPDATE usuarios SET nombre = 'Molly' WHERE id = 3 
UPDATE usuarios SET nombre = 'Eliseo dklf' WHERE nombre = 'eliseo'

DELETE FROM usuarios WHERE nombre = 'Pachita' 

CREATE TABLE productos (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
nombre   VARCHAR(100) NOT NULL, 
precio FLOAT(7,2) NOT NULL
)ENGINE=InnoDB AUTO_INCREMENT=1000;
INSERT INTO productos (nombre, precio) VALUES ('piedra cola ', 150.50) 

SELECT * FROM usuarios
SELECT * FROM productos 
SELECT * FROM productos
DROP TABLE producto
INSERT INTO usuarios (nombre, PASSWORD) VALUES ('pachin',  '123456'); 
SELECT * FROM productos  

DROP TABLE ventas
CREATE TABLE ventas (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
usuario_fk  INT(6) UNSIGNED NOT NULL, 
producto_fk INT(6) UNSIGNED NOT NULL,
cantidad FLOAT(7,2) NOT NULL,
FOREIGN KEY (usuario_fk) REFERENCES usuarios(id),
FOREIGN KEY (producto_fk) REFERENCES productos(id)
)ENGINE=InnoDB AUTO_INCREMENT=2000;

SELECT * FROM productos
SELECT * FROM usuarios 
SELECT * FROM ventas
INSERT INTO ventas (usuario_fk, producto_fk, cantidad) 
VALUES (1, 1001, 1);
INSERT INTO ventas (usuario_fk, producto_fk, cantidad) 
VALUES (4, 1002, 1); 
INSERT INTO ventas(usuario_fk, producto_fk, cantidad) 
VALUES (2, 1001, 50); 

DROP TABLE casas 
CREATE TABLE casas (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
usuario_fk  INT(6) UNSIGNED NOT NULL,  
cantidad INT(3) UNSIGNED NOT NULL, 
FOREIGN KEY (usuario_fk) REFERENCES usuarios(id)
)ENGINE=InnoDB AUTO_INCREMENT=3000; 
SELECT * FROM casas 
SELECT * FROM usuarios

ALTER TABLE casas
ADD COLUMN propiedad VARCHAR(15);

UPDATE casas SET propiedad ='Independencia' WHERE id = 3000;
UPDATE casas SET propiedad = 'San Sebastian' WHERE id = 3001; 
UPDATE casas SET propiedad = 'Cocina' WHERE id = 3002;

ALTER TABLE casas DROP COLUMN cantidad;  

INSERT INTO casas (usuario_fk, cantidad) 
VALUES (1, 1);
INSERT INTO casas (usuario_fk, cantidad)
VALUES (2, 1); 
INSERT INTO casas (usuario_fk, cantidad)
VALUES (4, 2); 
INSERT INTO casas (usuario_fk, propiedad)
VALUES (4, 'patio');

CREATE TABLE ventas (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
usuario_fk  INT(6) UNSIGNED NOT NULL, 
producto_fk INT(6) UNSIGNED NOT NULL,
cantidad FLOAT(7,2) NOT NULL,
FOREIGN KEY (usuario_fk) REFERENCES usuarios(id),
FOREIGN KEY (producto_fk) REFERENCES productos(id)
)ENGINE=InnoDB AUTO_INCREMENT=2000;


SELECT * FROM casas
SELECT * FROM productos
SELECT * FROM usuarios 
SELECT * FROM ventas
INSERT INTO casas (usuario_fk, propiedad)
VALUES (9, 'tiendita') 
INSERT INTO casas (usuario_fk, propiedad)
VALUES (9, 'casa')

SELECT usuarios.nombre, casas.propiedad   FROM casas 
INNER JOIN usuarios ON casas.usuario_fk = usuarios.id
ORDER BY casas.propiedad desc

SELECT * FROM casas 
INNER JOIN usuarios ON casas.usuario_fk = usuarios.id 

SELECT * FROM usuarios 
LEFT JOIN casas ON usuarios.id = casas.usuario_fk 

SELECT * FROM casas 
SELECT * FROM usuarios 
SELECT * FROM casas 
LEFT JOIN usuarios ON usuarios.id = casas.usuario_fk

SELECT usuarios.nombre, casas.propiedad FROM casas 
INNER JOIN usuarios ON usuarios.id = casas.usuario_fk

SELECT * FROM ventas
SELECT * FROM productos 

SELECT * FROM ventas 
INNER JOIN usuarios ON  ventas.usuario_fk = usuarios.id 
INNER JOIN productos ON ventas.producto_fk =productos.id

SELECT usuarios.nombre,
 productos.nombre, 
ventas.cantidad, productos.precio,
ventas.cantidad * productos.precio  total
FROM ventas 
INNER JOIN usuarios ON ventas.usuario_fk = usuarios.id
INNER JOIN productos ON ventas.producto_fk = productos.id

SELECT * FROM casas
12345,67
ALTER TABLE casas add renta FLOAT(7,2);
SELECT * FROM casas  
UPDATE casas SET renta = 100.00 WHERE id = 3000;
UPDATE casas SET renta = 90.00 WHERE id = 3001;
UPDATE casas SET renta = 920.00 WHERE id = 3002;
UPDATE casas SET renta = 600.00 WHERE id = 3003;
UPDATE casas SET renta = 40.00 WHERE id = 3004;
SELECT * FROM casas 
INNER JOIN usuarios ON casas.usuario_fk = usuarios.id

SELECT usuarios.nombre,  SUM(casas.renta) suma_renta 
FROM casas 
INNER JOIN usuarios ON casas.usuario_fk = usuarios.id
GROUP BY usuarios.nombre 

SELECT * FROM ventas  
INNER JOIN usuarios ON ventas.usuario_fk = usuarios.id 
INNER JOIN productos ON ventas.producto_fk = productos.id

SELECT usuarios.nombre, productos.nombre , ventas.cantidad, productos.precio
, ventas.cantidad * productos.precio total
 FROM ventas 
INNER JOIN usuarios ON ventas.usuario_fk = usuarios.id 
INNER JOIN productos ON ventas.producto_fk = productos.id
ORDER BY usuarios.nombre

INSERT INTO ventas(usuario_fk, producto_fk, cantidad) 
VALUES(3, 1001, 3); 
INSERT INTO ventas(usuario_fk, producto_fk, cantidad) 
VALUES(3, 1002, 3);
INSERT INTO ventas(usuario_fk, producto_fk, cantidad) 
VALUES(3, 1003, 3); 
INSERT INTO ventas(usuario_fk, producto_fk, cantidad) 
VALUES(1, 1003, 3); 
INSERT INTO ventas(usuario_fk, producto_fk, cantidad) 
VALUES(2, 1001, 3); 

SELECT usuarios.nombre, SUM( ventas.cantidad * productos.precio) total
 FROM ventas 
INNER JOIN usuarios ON ventas.usuario_fk = usuarios.id 
INNER JOIN productos ON ventas.producto_fk = productos.id
GROUP BY usuarios.nombre
HAVING total >900
ORDER BY usuarios.nombre 

SELECT * FROM casas 
SELECT * from productos 

SELECT * FROM usuarios 
WHERE PASSWORD = 123456

SELECT PASSWORD, COUNT(password) repetidas FROM usuarios 
GROUP BY PASSWORD 
HAVING repetidas>1 

SELECT * FROM usuarios WHERE nombre LIKE '%y'


CREATE TABLE clients( 
id INT, 
first_name nvarchar(50), 
last_name nvarchar(50), 
address nvarchar(50), 
birth_date nvarchar(50)
);  
DROP TABLE clients

INSERT INTO clients(id, first_name, last_name, birth_date, address)
VALUES(3, 'Andy', 'Morrison', '12/08/1995', NULL)  
SELECT * FROM clients  

UPDATE clients SET address = 'somewhere in the uk' WHERE id = 3
SELECT * FROM clients 

CREATE TABLE aprendiz(
id VARCHAR(20),
nombre VARCHAR(30), 
apellido VARCHAR(30), 
direccion VARCHAR(60));
 
SELECT * FROM aprendiz 
INSERT INTO aprendiz(id, nombre, apellido, direccion) VALUES('1234','Laura','Lopez','Mexico');

CREATE DATABASE clientes(
id INT(11) NOT NULL AUTO_INCREMENT,
nombre VARCHAR(20) NOT NULL, 
apellido VARCHAR(60) NOT NULL, 
direccion VARCHAR(60), 
PRIMARY KEY (id));
 
SHOW DATABASES 

CREATE table clientes( 
id INT(11) NOT NULL AUTO_INCREMENT,
nombre VARCHAR(20) NOT NULL, 
apellido VARCHAR(60) NOT NULL, 
direccion VARCHAR(60), 
PRIMARY KEY (id))ENGINE=InnoDB AUTO_INCREMENT=12000;

DROP TABLE clientes 


SHOW TABLES

DESCRIBE clientes

INSERT INTO clientes(nombre, apellido, direccion) 
VALUES('Alejandro', 'Perez', 'Independencia 190');

INSERT INTO clientes(nombre, apellido, direccion) 
VALUES('Laura', 'Hernandez', 'null'); 
 
SELECT * FROM clientes

SELECT nombre, apellido FROM clientes

SELECT * FROM clientes WHERE id = 12001; 

SELECT * FROM clientes LIMIT 1; 

UPDATE clientes SET nombre = 'Juan Pablo',
 direccion = 'Av. Avila 123' WHERE id = 12000; 
 
 DELETE FROM clientes WHERE id = 12000; 
 
 DESCRIBE clientes 
 
 ALTER TABLE clientes ADD email VARCHAR(30);
 ALTER TABLE  clientes DROP COLUMN email;
 
 
 
 
 
 
 
 
 
 DROP TABLE IF EXISTS `categoria`;
CREATE TABLE `categoria` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(60) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `platillos`;
CREATE TABLE `platillos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(60) DEFAULT NULL,
  `precio` float DEFAULT NULL,
  `disponible` tinyint(1) DEFAULT NULL,
  `categoriaId` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`),
  KEY `categoriaId` (`categoriaId`),
  CONSTRAINT `platillos_ibfk_1` FOREIGN KEY (`categoriaId`) REFERENCES `categoria` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=36 DEFAULT CHARSET=utf8mb4 ;

DROP TABLE IF EXISTS `reservaciones`;
CREATE TABLE `reservaciones` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(60) NOT NULL,
  `apellido` varchar(60) NOT NULL,
  `hora` time DEFAULT NULL,
  `fecha` date DEFAULT NULL,
  `cantidadmesa` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=32 DEFAULT CHARSET=utf8mb4;

INSERT INTO `categoria` (`id`, `nombre`) VALUES ('1', 'Desayunos'),
('2', 'Comida'),
('3', 'Bebidas'),
('4', 'Bebidas con Alcohol'),
('5', 'Postres'),
('6', 'Ensaladas');

INSERT INTO `platillos` (`id`, `nombre`, `precio`, `disponible`, `categoriaId`) VALUES ('1', 'Pastel de Chocolate', '89', '1', '5'),
('2', '400g de Rib Eye', '199', '1', '2'),
('3', 'Refresco', '25', '1', '3'),
('4', 'Café Americano', '35', '1', '3'),
('5', 'Tequila', '89', '1', '4'),
('6', 'Vodka con Jugo', '119', '1', '4'),
('7', 'Hot Cakes (3)', '119', '1', '1'),
('8', 'Omellete', '89', '0', '1'),
('9', 'Pastel de Zanahoria', '89', '0', '5'),
('10', 'Rol de Canela', '69', '1', '5'),
('11', 'Agua de Naranja', '79', '1', '3'),
('12', 'Chuletas de Cerdo', '179', '1', '2'),
('13', 'Costillas BBQ', '189', '1', '2'),
('14', 'Huevo al Gusto', '49', '1', '1'),
('15', 'Omellete Hiervas Finas y Queso de Cabra', '79', '1', '1'),
('16', 'Jugo de Zanahoria', '49', '0', '3'),
('17', 'Jugo de Narnaja', '49', '1', '3'),
('18', 'Jugo de Toronja', '49', '1', '3'),
('19', 'Ensalada Violeta', '89', '1', '6'),
('20', 'Ensalada de Higo', '89', '1', '6'),
('21', 'Ensalada Cesar', '89', '0', '6'),
('22', 'Club Sandwich', '99', '1', '1'),
('23', 'Sandwich Salami', '119', '1', '1'),
('24', 'Filete de Pescado Róbalo', '179', '0', '2'),
('25', 'Filete de Atún ', '179', '1', '2'),
('26', 'Milanesa de Pollo', '149', '1', '2'),
('27', 'Pierna de Ternera al Horno', '199', '1', '2'),
('28', 'Café Capuchino', '45', '1', '3'),
('29', 'Café Latte', '50', '1', '3'),
('30', 'Café Expresso', '25', '1', '3'),
('31', 'Vino Tinto Francia', '89', '0', '4'),
('32', 'Vino Tinto Chile', '89', '1', '4'),
('33', 'Vino Tinto México', '89', '1', '4'),
('34', 'Vino Tinto España', '89', '0', '4'),
('35', 'Vino Tinto Argentina', '89', '1', '4');

INSERT INTO `reservaciones` (`id`, `nombre`, `apellido`, `hora`, `fecha`, `cantidadmesa`) VALUES ('1', 'Juan', 'De la torre', '10:30:00', '2019-06-28', '3'),
('2', 'Antonio', 'Hernandez', '14:00:00', '2019-07-30', '2'),
('3', 'Pedro', 'Juarez', '20:00:00', '2019-06-25', '5'),
('4', 'Mireya', 'Perez', '19:00:00', '2019-06-25', '2'),
('5', 'Jose', 'Castillo', '14:00:00', '2019-07-30', '3'),
('6', 'Maria', 'Diaz', '14:30:00', '2019-06-25', '2'),
('7', 'Clara', 'Duran', '10:00:00', '2019-07-01', '3'),
('8', 'Miriam', 'Ibañez', '09:00:00', '2019-07-01', '3'),
('9', 'Samuel ', 'Reyes', '10:00:00', '2019-07-02', '2'),
('10', 'Joaquin', 'Muñoz', '19:00:00', '2019-06-28', '3'),
('11', 'Julia', 'Lopez', '08:00:00', '2019-06-25', '3'),
('12', 'Carmen', 'Ruiz', '20:00:00', '2019-07-01', '4'),
('13', 'Isaac', 'Sala', '09:00:00', '2019-07-30', '3'),
('14', 'Ana', 'Preciado', '14:30:00', '2019-06-28', '4'),
('15', 'Sergio', 'Iglesias', '10:00:00', '2019-07-02', '2'),
('16', 'Aina', 'Acosta', '14:00:00', '2019-07-30', '3'),
('17', 'Carlos', 'Ortiz', '20:00:00', '2019-06-25', '2'),
('18', 'Roberto', 'Serrano', '10:00:00', '2019-07-30', '4'),
('19', 'Carlota', 'Perez', '14:00:00', '2019-07-01', '2'),
('20', 'Ana Maria', 'Igleias', '14:00:00', '2019-07-02', '2'),
('21', 'Jaime', 'Jimenez', '14:00:00', '2019-07-01', '4'),
('22', 'Roberto ', 'Torres', '10:00:00', '2019-07-02', '3'),
('23', 'Juan', 'Cano', '09:00:00', '2019-07-02', '5'),
('24', 'Santiago', 'Hernandez', '19:00:00', '2019-06-28', '5'),
('25', 'Berta', 'Gomez', '09:00:00', '2019-07-01', '3'),
('26', 'Miriam', 'Dominguez', '19:00:00', '2019-06-28', '3'),
('27', 'Antonio', 'Castro', '14:30:00', '2019-07-02', '2'),
('28', 'Hugo', 'Alonso', '09:00:00', '2019-06-28', '2'),
('29', 'Victoria', 'Perez', '10:00:00', '2019-07-02', '1'),
('30', 'Jimena', 'Leon', '10:30:00', '2019-07-30', '2'),
('31', 'Raquel ', 'Peña', '20:30:00', '2019-06-25', '3');


SELECT * FROM platillos; 
SELECT * FROM reservaciones ORDER BY fecha
SELECT * FROM platillos ORDER BY precio DESC; 
SELECT COUNT(id), fecha FROM reservaciones GROUP BY fecha
ORDER BY COUNT(id)DESC; 

SELECT COUNT(id) cantidad, categoriaId FROM platillos GROUP BY categoriaId 
ORDER BY COUNT(id); 

SELECT * FROM platillos
INNER JOIN categoria ON categoria.id = platillos.categoriaId 

SELECT * FROM platillos
SELECT COUNT(platillos.id) cantidad, categoria.nombre FROM platillos 
inner join categoria ON platillos.categoriaId = categoria.id GROUP BY categoria.nombre

SELECT * FROM platillos  
WHERE precio 
BETWEEN 100 
AND 200

SELECT * FROM platillos 
WHERE nombre LIKE 'cafe%' 

SELECT * FROM platillos 
SELECT * FROM reservaciones; 

 
SELECT CONCAT(nombre , ' ', apellido ) 
FROM reservaciones 

SELECT CONCAT(nombre , ' ' , apellido ) nombre_cliente, hora, fecha, cantidadMesa
FROM reservaciones 
WHERE CONCAT (nombre , ' ' , apellido )
LIKE '%Ana Preciado%'  

FROM reservaciones 
SELECT * FROM reservaciones
WHERE cantidadMesa IN(2, 3)

